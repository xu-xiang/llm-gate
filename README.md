# llm-gate (Research & Observability)

本项目是一个专注于 **LLM 接口协议转换**与**服务可观测性**的技术研究项目。通过标准化的协议桥接，实现对异构模型接口响应特性的深度观测。

![Dashboard UI](images/ui.png)
*极简主义风格的实时观测仪表盘*

> [!IMPORTANT]
> **免责与合规使用声明 (Exemption & Compliance Statement)**：
> 
> 1. **研究定位**：本项目（LLM Protocol Bridge）仅作为 **接口协议桥接** 与 **可观测性算法** 的技术研究方案。其核心逻辑在于探讨如何实现异构协议间的语义对齐，严禁将本项目用于任何违反法律法规或服务提供商政策的行为。
> 2. **合规义务**：使用者在运行本项目前，**必须自行通过官方合规渠道获取相关授权凭证**（如 OAuth 客户端权限）。本项目不提供任何形式的账号、Token、绕过工具或非法接入途径。
> 3. **行为边界**：使用者应严格遵守对应服务商的《开发者使用规范》及《服务条款》。严禁利用本项目进行任何可能导致上游资源负载异常、干扰服务运行或侵犯他人权益的操作。
> 4. **免责条款**：
>    - 作为开源技术方案，本项目按“原样”提供，不附带任何明示或暗示的保证。
>    - 使用者因违反相关协议或不当操作所导致的任何后果（包括但不限于账号受限、法律纠纷或经济损失），**均由使用者本人承担全部责任**，本项目作者及贡献者对此不承担任何连带责任。
>    - 本项目的存在不代表对任何上游服务的任何形式的背书或关联。
> 
> **一旦使用本项目，即视为您已完全理解并接受上述所有条款。**

## 🔬 技术研究维度

- **语义协议映射验证**：研究如何将不同厂商的语义标识（Model Aliasing）转换为标准化接口。
- **OAuth 交互流程自动化**：探索针对 Device Flow 授权模式的非阻塞式身份验证生命周期管理。
- **端点健康感知逻辑**：探讨在多端点环境下验证故障转移与负载分发策略的有效性。

## 🔐 身份验证与凭据管理

项目支持两种凭据加载方式，确保研究环境的灵活配置：

### 1. 使用已有凭据
在 `gateway.yaml` 的 `auth_files` 列表中指定已存在的 `.json` 路径，系统将直接加载。

### 2. 交互式授权生成
若指定的路径文件不存在，系统会自动启动 **OAuth Device Flow** 流程。您只需根据终端提示操作：

```text
[INFO] Verifying token with active API check...

==================================================
      Qwen API Gateway Authentication Required
==================================================
Target File: ./oauth_creds_research.json

1. Open this URL in your browser:
   https://chat.qwen.ai/authorize?user_code=CS-9UA0P&client=qwen-code

2. Verify the code matches:
   CS-9UA0P

Waiting for you to approve in the browser...
==================================================
```
授权完成后，系统会自动在指定路径生成对应的加密凭据文件。

## 🧩 支持状态与路线图

- [x] **Qwen 协议适配模块**：针对特定 OAuth 流程的接口转换与观测验证。
- [ ] **Gemini 协议适配模块**：*规划中*。
- [ ] **通用标准化框架**：*规划中*。

## 🚀 运行与调试

### 1. 依赖构建
```bash
npm install
npm run build
```

### 2. 启动研究环境
```bash
./bin/restart.sh
```
启动后访问 `http://localhost:3000` 即可进入极简观测台。

## 📝 许可证
本项目采用 MIT 许可证。
